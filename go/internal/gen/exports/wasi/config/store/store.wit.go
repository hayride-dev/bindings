// Code generated by wit-bindgen-go. DO NOT EDIT.

// Package store represents the exported interface "wasi:config/store@0.2.0-draft".
package store

import (
	"go.bytecodealliance.org/cm"
)

// Error represents the variant "wasi:config/store@0.2.0-draft#error".
//
// An error type that encapsulates the different errors that can occur fetching configuration
// values.
//
//	variant error {
//		upstream(string),
//		io(string),
//	}
type Error cm.Variant[uint8, string, string]

// ErrorUpstream returns a [Error] of case "upstream".
//
// This indicates an error from an "upstream" config source.
// As this could be almost _anything_ (such as Vault, Kubernetes ConfigMaps, KeyValue
// buckets, etc),
// the error message is a string.
func ErrorUpstream(data string) Error {
	return cm.New[Error](0, data)
}

// Upstream returns a non-nil *[string] if [Error] represents the variant case "upstream".
func (self *Error) Upstream() *string {
	return cm.Case[string](self, 0)
}

// ErrorIO returns a [Error] of case "io".
//
// This indicates an error from an I/O operation.
// As this could be almost _anything_ (such as a file read, network connection, etc),
// the error message is a string.
// Depending on how this ends up being consumed,
// we may consider moving this to use the `wasi:io/error` type instead.
// For simplicity right now in supporting multiple implementations, it is being left
// as a string.
func ErrorIO(data string) Error {
	return cm.New[Error](1, data)
}

// IO returns a non-nil *[string] if [Error] represents the variant case "io".
func (self *Error) IO() *string {
	return cm.Case[string](self, 1)
}

var _ErrorStrings = [2]string{
	"upstream",
	"io",
}

// String implements [fmt.Stringer], returning the variant case name of v.
func (v Error) String() string {
	return _ErrorStrings[v.Tag()]
}
